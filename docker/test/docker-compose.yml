name: "test-react-template"
services:
  app:
    extends:
      file: "../prod/docker-compose.yml"
      service: app
    depends_on:
      tests:
        condition: service_completed_successfully
  tests:
    build:
      context: ../../
      dockerfile: docker/test/dockerfile
      args:
        VITE_BUILD_MODE: dev
    deploy:
      resources:
        limits:
          memory: 4g
          cpus: 4
